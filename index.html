<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="asset/plugins/bootstrap/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body class="bg-light d-flex justify-content-center align-items-center">
    <div class="container d-md-flex gap-3">
        <div class="d-none d-md-block col-md-6">
            <h1 class="text-primary" style="font-size:60px;">facebook</h1>
            <div class="text-secondary fs-3">Facebook helps you connect and share with the people in your life.</div>
        </div>
        <div class="col-md-6">
            <div class="bg-white p-3 rounded" style="max-width: 390px;">
                <div class="h1 p-2 d-md-none text-primary fw-bold text-capitalize mb-0">facebook</div>
                <div class="text-secondary p-2 d-md-none">Facebook helps you connect and share with the people in your life.</div>
                <div class="p-2"><input type="text" id="email" class="border w-100 p-3" placeholder="Enter Email Address or phone number"></div>
                <div class="p-2"><input type="password" id="pass" placeholder="Password" class="border w-100 p-3"></div>
                <div class="p-2"><button onclick="login(this)" class="w-100 border-0 rounded bg-primary text-white p-3 fw-bold">Log in</button></div>
                <div class="text-center text-danger" id="error"></div>
                <div class="p-2 text-center text-capitalize"><a href="forgetpassword.html" class="text-decoration-none fs-5 text-info">forget password?</a></div>
                <hr>
                <div class="p-2 text-center">
                    <a href="signup.html" class="p-3 text-white d-block rounded w-100 text-decoration-none bg-success ps-5  pe-5">Create Account</a>
                </div>
            </div>
        </div>
    </div>
    <script>
       async function login(e){
          window.location.href="dashboard.html";
           e.innerHTML="<i class='spinner-border spinner-border-sm'></i> Loading...";
           const email=document.getElementById('email');
           const pass=document.getElementById('pass');
           const error=document.getElementById('error');
           error.innerHTML="";
           if(email.value == "" || pass.value == ""){
            error.innerHTML="Enter all field";
           }
           else{
            const req=await fetch("localhost/config/login",{method:"post", body:JSON.stringify({email:email.value,pass:pass.value})}).then(res => res.json());
             console.log(req);
             if(req.status == 201){
                window.location.href="dashboard";
             }
             else{
                error.innerHTML=req.message;
             }
           }
           e.innerHTML="Log in";
        }
    </script>
</body>
</html>